<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link rel="stylesheet" href="http://xheditor.com/js/xheditor_skin/default/iframe.css"><style>pre{margin-left:2em;border-left:3px solid #CCC;padding:0 1em;}</style><title>可视化编辑器,alt+1到9键,切换到工具区,tab键,选择按钮,esc键,返回编辑 </title><style>html{background:url(http://xheditor.com/img/demobg.jpg) 100% 100% no-repeat fixed;}</style></head><body spellcheck="0" class="editMode"><header class="article-header" style="padding: 20px 20px 0px; color: rgb(86, 90, 95); font-family: 'open sans', 'Helvetica Neue', 'Microsoft Yahei', Helvetica, Arial, sans-serif; font-size: 16px;"><h1 class="article-title" itemprop="name" style="margin: 0px 0px 14px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(0, 150, 136); line-height: 1.3em;">Spring Boot多数据源配置与使用</h1></header><div class="article-entry" itemprop="articleBody" lg-uid="lg0" style="margin: 0px; padding: 10px 20px; border: 0px; outline: 0px; font-family: 'open sans', 'Helvetica Neue', 'Microsoft Yahei', Helvetica, Arial, sans-serif; font-size: 16px; vertical-align: baseline; color: rgb(86, 90, 95); line-height: 2em;"><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;">之前在介绍使用JdbcTemplate和Spring-data-jpa时，都使用了单数据源。在单数据源的情况下，Spring Boot的配置非常简单，只需要在<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">application.properties</code>文件中配置连接参数即可。但是往往随着业务量发展，我们通常会进行数据库拆分或是引入其他数据库，从而我们需要配置多个数据源，下面基于之前的JdbcTemplate和Spring-data-jpa例子分别介绍两种多数据源的配置方式。</p><h3 id="多数据源配置" style="margin: 1.3em 0px; padding: 0px; border: 0px; outline: 0px; font-style: inherit; font-family: inherit; font-size: 1.3em; vertical-align: baseline; line-height: 1.3em;"><a href="http://blog.didispace.com/springbootmultidatasource/#多数据源配置" _xhe_href="http://blog.didispace.com/springbootmultidatasource/#多数据源配置" class="headerlink" title="多数据源配置" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; font-size: 20.8px; vertical-align: baseline; color: rgb(56, 183, 234); text-decoration: none;"></a>多数据源配置</h3><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;">创建一个Spring配置类，定义两个DataSource用来读取<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">application.properties</code>中的不同配置。如下例子中，主数据源配置为<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">spring.datasource.primary</code>开头的配置，第二数据源配置为<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">spring.datasource.secondary</code>开头的配置。</p><figure class="highlight java" style="margin: 1.6em 0px; overflow-x: auto; padding: 15px 20px; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; line-height: 25.6px; color: rgb(221, 221, 221); background: rgb(39, 40, 34);"><table style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: middle; border-collapse: collapse; border-spacing: 0px; line-height: 1.6em; width: auto;" class=" xhe-border"><tbody style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><td class="gutter" style="margin: 0px; padding: 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 20px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(102, 102, 102); text-align: right;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><br></div></pre></td><td class="code" style="margin: 0px; padding: 10px 20px 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 0px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span style="color: rgb(117, 113, 94); font-family: inherit; font-style: inherit; font-weight: inherit; line-height: 1.6em;">@Configuration</span><br></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="class" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">class</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">DataSourceConfig</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Bean</span>(name = <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"primaryDataSource"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Qualifier</span>(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"primaryDataSource"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@ConfigurationProperties</span>(prefix=<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"spring.datasource.primary"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> DataSource <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">primaryDataSource</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">()</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">return</span> DataSourceBuilder.create().build();</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    }</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Bean</span>(name = <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"secondaryDataSource"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Qualifier</span>(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"secondaryDataSource"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Primary</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@ConfigurationProperties</span>(prefix=<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"spring.datasource.secondary"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> DataSource <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">secondaryDataSource</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">()</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">return</span> DataSourceBuilder.create().build();</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    }</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">}</div></pre></td></tr></tbody></table></figure><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;">对应的<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">application.properties</code>配置如下：</p><figure class="highlight bash" style="margin: 1.6em 0px; overflow-x: auto; padding: 15px 20px; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; line-height: 25.6px; color: rgb(221, 221, 221); background: rgb(39, 40, 34);"><table style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: middle; border-collapse: collapse; border-spacing: 0px; line-height: 1.6em; width: auto;" class=" xhe-border"><tbody style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><td class="gutter" style="margin: 0px; padding: 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><br></td><td class="code" style="margin: 0px; padding: 10px 20px 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 0px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">spring.datasource.primary.url=jdbc:mysql://localhost:3306/<span class="built_in" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">test</span>1</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">spring.datasource.primary.username=root</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">spring.datasource.primary.password=root</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">spring.datasource.primary.driver-class-name=com.mysql.jdbc.Driver</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">spring.datasource.secondary.url=jdbc:mysql://localhost:3306/<span class="built_in" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">test</span>2</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">spring.datasource.secondary.username=root</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">spring.datasource.secondary.password=root</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">spring.datasource.secondary.driver-class-name=com.mysql.jdbc.Driver</div></pre></td></tr></tbody></table></figure><h3 id="JdbcTemplate支持" style="margin: 1.3em 0px; padding: 0px; border: 0px; outline: 0px; font-style: inherit; font-family: inherit; font-size: 1.3em; vertical-align: baseline; line-height: 1.3em;"><a href="http://blog.didispace.com/springbootmultidatasource/#JdbcTemplate支持" _xhe_href="http://blog.didispace.com/springbootmultidatasource/#JdbcTemplate支持" class="headerlink" title="JdbcTemplate支持" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; font-size: 20.8px; vertical-align: baseline; color: rgb(56, 183, 234); text-decoration: none;"></a>JdbcTemplate支持</h3><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;">对JdbcTemplate的支持比较简单，只需要为其注入对应的datasource即可，如下例子，在创建JdbcTemplate的时候分别注入名为<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">primaryDataSource</code>和<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">secondaryDataSource</code>的数据源来区分不同的JdbcTemplate。</p><figure class="highlight java" style="margin: 1.6em 0px; overflow-x: auto; padding: 15px 20px; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; line-height: 25.6px; color: rgb(221, 221, 221); background: rgb(39, 40, 34);"><table style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: middle; border-collapse: collapse; border-spacing: 0px; line-height: 1.6em; width: auto;" class=" xhe-border"><tbody style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><td class="gutter" style="margin: 0px; padding: 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 20px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(102, 102, 102); text-align: right;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><br></div></pre></td><td class="code" style="margin: 0px; padding: 10px 20px 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 0px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="font-family: inherit; font-style: inherit; font-weight: inherit; line-height: 1.6em; margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: baseline; color: rgb(117, 113, 94);">@Bean</span><span style="font-family: inherit; font-style: inherit; font-weight: inherit; line-height: 1.6em;">(name = </span><span class="string" style="font-family: inherit; font-style: inherit; font-weight: inherit; line-height: 1.6em; margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: baseline; color: rgb(166, 226, 46);">"primaryJdbcTemplate"</span><span style="font-family: inherit; font-style: inherit; font-weight: inherit; line-height: 1.6em;">)</span><br></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> JdbcTemplate <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">primaryJdbcTemplate</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">(</span></span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        @Qualifier(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"primaryDataSource"</span>) DataSource dataSource) {</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">return</span> <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">new</span> JdbcTemplate(dataSource);</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">}</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Bean</span>(name = <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"secondaryJdbcTemplate"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> JdbcTemplate <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">secondaryJdbcTemplate</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">(</span></span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        @Qualifier(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"secondaryDataSource"</span>) DataSource dataSource) {</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">return</span> <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">new</span> JdbcTemplate(dataSource);</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">}</div></pre></td></tr></tbody></table></figure><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;">接下来通过测试用例来演示如何使用这两个针对不同数据源的JdbcTemplate。</p><figure class="highlight java" style="margin: 1.6em 0px; overflow-x: auto; padding: 15px 20px; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; line-height: 25.6px; color: rgb(221, 221, 221); background: rgb(39, 40, 34);"><table style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: middle; border-collapse: collapse; border-spacing: 0px; line-height: 1.6em; width: auto;" class=" xhe-border"><tbody style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><td class="gutter" style="margin: 0px; padding: 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><br></td><td class="code" style="margin: 0px; padding: 10px 20px 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 0px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="font-family: inherit; font-style: inherit; font-weight: inherit; line-height: 1.6em; margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: baseline; color: rgb(117, 113, 94);">@RunWith</span><span style="font-family: inherit; font-style: inherit; font-weight: inherit; line-height: 1.6em;">(SpringJUnit4ClassRunner.class)</span><br></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@SpringApplicationConfiguration</span>(Application.class)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="class" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">class</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">ApplicationTests</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Autowired</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Qualifier</span>(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"primaryJdbcTemplate"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">protected</span> JdbcTemplate jdbcTemplate1;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Autowired</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Qualifier</span>(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"secondaryJdbcTemplate"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">protected</span> JdbcTemplate jdbcTemplate2;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Before</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">void</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">setUp</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">()</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		jdbcTemplate1.update(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"DELETE  FROM  USER "</span>);</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		jdbcTemplate2.update(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"DELETE  FROM  USER "</span>);</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	}</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Test</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">void</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">test</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">()</span> <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">throws</span> Exception </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		<span class="comment" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">// 往第一个数据源中插入两条数据</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		jdbcTemplate1.update(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"insert into user(id,name,age) values(?, ?, ?)"</span>, <span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">1</span>, <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"aaa"</span>, <span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">20</span>);</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		jdbcTemplate1.update(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"insert into user(id,name,age) values(?, ?, ?)"</span>, <span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">2</span>, <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"bbb"</span>, <span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">30</span>);</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		<span class="comment" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">// 往第二个数据源中插入一条数据，若插入的是第一个数据源，则会主键冲突报错</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		jdbcTemplate2.update(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"insert into user(id,name,age) values(?, ?, ?)"</span>, <span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">1</span>, <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"aaa"</span>, <span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">20</span>);</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		<span class="comment" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">// 查一下第一个数据源中是否有两条数据，验证插入是否成功</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		Assert.assertEquals(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"2"</span>, jdbcTemplate1.queryForObject(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"select count(1) from user"</span>, String.class));</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		<span class="comment" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">// 查一下第一个数据源中是否有两条数据，验证插入是否成功</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		Assert.assertEquals(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"1"</span>, jdbcTemplate2.queryForObject(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"select count(1) from user"</span>, String.class));</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	}</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">}</div></pre></td></tr></tbody></table></figure><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;"><a href="http://git.oschina.net/didispace/SpringBoot-Learning" _xhe_href="http://git.oschina.net/didispace/SpringBoot-Learning" target="_blank" rel="external" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(56, 183, 234); text-decoration: none;">完整示例:Chapter3-2-3</a></p><h3 id="Spring-data-jpa支持" style="margin: 1.3em 0px; padding: 0px; border: 0px; outline: 0px; font-style: inherit; font-family: inherit; font-size: 1.3em; vertical-align: baseline; line-height: 1.3em;"><a href="http://blog.didispace.com/springbootmultidatasource/#Spring-data-jpa支持" _xhe_href="http://blog.didispace.com/springbootmultidatasource/#Spring-data-jpa支持" class="headerlink" title="Spring-data-jpa支持" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; font-size: 20.8px; vertical-align: baseline; color: rgb(56, 183, 234); text-decoration: none;"></a>Spring-data-jpa支持</h3><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;">对于数据源的配置可以沿用上例中<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">DataSourceConfig</code>的实现。</p><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;">新增对第一数据源的JPA配置，注意两处注释的地方，用于指定数据源对应的<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">Entity</code>实体和<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">Repository</code>定义位置，用<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">@Primary</code>区分主数据源。</p><figure class="highlight java" style="margin: 1.6em 0px; overflow-x: auto; padding: 15px 20px; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; line-height: 25.6px; color: rgb(221, 221, 221); background: rgb(39, 40, 34);"><table style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: middle; border-collapse: collapse; border-spacing: 0px; line-height: 1.6em; width: auto;" class=" xhe-border"><tbody style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><td class="gutter" style="margin: 0px; padding: 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><br></td><td class="code" style="margin: 0px; padding: 10px 20px 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 0px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Configuration</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@EnableTransactionManagement</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@EnableJpaRepositories</span>(</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        entityManagerFactoryRef=<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"entityManagerFactoryPrimary"</span>,</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        transactionManagerRef=<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"transactionManagerPrimary"</span>,</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        basePackages= { <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"com.didispace.domain.p"</span> }) <span class="comment" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">//设置Repository所在位置</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="class" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">class</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">PrimaryConfig</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Autowired</span> <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Qualifier</span>(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"primaryDataSource"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> DataSource primaryDataSource;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Primary</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Bean</span>(name = <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"entityManagerPrimary"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> EntityManager <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">entityManager</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">(EntityManagerFactoryBuilder builder)</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">return</span> entityManagerFactoryPrimary(builder).getObject().createEntityManager();</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    }</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Primary</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Bean</span>(name = <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"entityManagerFactoryPrimary"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> LocalContainerEntityManagerFactoryBean <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">entityManagerFactoryPrimary</span> <span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">(EntityManagerFactoryBuilder builder)</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">return</span> builder</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">                .dataSource(primaryDataSource)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">                .properties(getVendorProperties(primaryDataSource))</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">                .packages(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"com.didispace.domain.p"</span>) <span class="comment" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">//设置实体类所在位置</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">                .persistenceUnit(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"primaryPersistenceUnit"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">                .build();</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    }</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Autowired</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> JpaProperties jpaProperties;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> Map&lt;String, String&gt; <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">getVendorProperties</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">(DataSource dataSource)</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">return</span> jpaProperties.getHibernateProperties(dataSource);</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    }</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Primary</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Bean</span>(name = <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"transactionManagerPrimary"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> PlatformTransactionManager <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">transactionManagerPrimary</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">(EntityManagerFactoryBuilder builder)</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">return</span> <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">new</span> JpaTransactionManager(entityManagerFactoryPrimary(builder).getObject());</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    }</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">}</div></pre></td></tr></tbody></table></figure><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;">新增对第二数据源的JPA配置，内容与第一数据源类似，具体如下：</p><figure class="highlight java" style="margin: 1.6em 0px; overflow-x: auto; padding: 15px 20px; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; line-height: 25.6px; color: rgb(221, 221, 221); background: rgb(39, 40, 34);"><table style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: middle; border-collapse: collapse; border-spacing: 0px; line-height: 1.6em; width: auto;" class=" xhe-border"><tbody style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><td class="gutter" style="margin: 0px; padding: 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><br></td><td class="code" style="margin: 0px; padding: 10px 20px 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 0px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Configuration</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@EnableTransactionManagement</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@EnableJpaRepositories</span>(</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        entityManagerFactoryRef=<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"entityManagerFactorySecondary"</span>,</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        transactionManagerRef=<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"transactionManagerSecondary"</span>,</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        basePackages= { <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"com.didispace.domain.s"</span> }) <span class="comment" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">//设置Repository所在位置</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="class" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">class</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">SecondaryConfig</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Autowired</span> <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Qualifier</span>(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"secondaryDataSource"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> DataSource secondaryDataSource;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Bean</span>(name = <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"entityManagerSecondary"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> EntityManager <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">entityManager</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">(EntityManagerFactoryBuilder builder)</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">return</span> entityManagerFactorySecondary(builder).getObject().createEntityManager();</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    }</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Bean</span>(name = <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"entityManagerFactorySecondary"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> LocalContainerEntityManagerFactoryBean <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">entityManagerFactorySecondary</span> <span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">(EntityManagerFactoryBuilder builder)</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">return</span> builder</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">                .dataSource(secondaryDataSource)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">                .properties(getVendorProperties(secondaryDataSource))</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">                .packages(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"com.didispace.domain.s"</span>) <span class="comment" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">//设置实体类所在位置</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">                .persistenceUnit(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"secondaryPersistenceUnit"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">                .build();</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    }</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Autowired</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> JpaProperties jpaProperties;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> Map&lt;String, String&gt; <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">getVendorProperties</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">(DataSource dataSource)</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">return</span> jpaProperties.getHibernateProperties(dataSource);</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    }</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Bean</span>(name = <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"transactionManagerSecondary"</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">PlatformTransactionManager <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">transactionManagerSecondary</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">(EntityManagerFactoryBuilder builder)</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">return</span> <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">new</span> JpaTransactionManager(entityManagerFactorySecondary(builder).getObject());</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    }</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">}</div></pre></td></tr></tbody></table></figure><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;">完成了以上配置之后，主数据源的实体和数据访问对象位于：<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">com.didispace.domain.p</code>，次数据源的实体和数据访问接口位于：<code style="margin: 0px 2px; padding: 3px 5px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; font-size: 1em; vertical-align: baseline; color: rgb(233, 105, 0); border-radius: 2px; background-color: rgb(248, 248, 248);">com.didispace.domain.s</code>。</p><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;">分别在这两个package下创建各自的实体和数据访问接口</p><ul style="margin: 1.6em 20px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;"><li style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">主数据源下，创建User实体和对应的Repository接口</li></ul><figure class="highlight java" style="margin: 1.6em 0px; overflow-x: auto; padding: 15px 20px; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; line-height: 25.6px; color: rgb(221, 221, 221); background: rgb(39, 40, 34);"><table style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: middle; border-collapse: collapse; border-spacing: 0px; line-height: 1.6em; width: auto;" class=" xhe-border"><tbody style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><td class="gutter" style="margin: 0px; padding: 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><br></td><td class="code" style="margin: 0px; padding: 10px 20px 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 0px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Entity</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="class" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">class</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">User</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Id</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@GeneratedValue</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> Long id;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Column</span>(nullable = <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">false</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> String name;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Column</span>(nullable = <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">false</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> Integer age;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">User</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">()</span></span>{}</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">User</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">(String name, Integer age)</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">this</span>.name = name;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">this</span>.age = age;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    }</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="comment" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">// 省略getter、setter</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">}</div></pre></td></tr></tbody></table></figure><figure class="highlight java" style="margin: 1.6em 0px; overflow-x: auto; padding: 15px 20px; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; line-height: 25.6px; color: rgb(221, 221, 221); background: rgb(39, 40, 34);"><table style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: middle; border-collapse: collapse; border-spacing: 0px; line-height: 1.6em; width: auto;" class=" xhe-border"><tbody style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><td class="gutter" style="margin: 0px; padding: 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><br></td><td class="code" style="margin: 0px; padding: 10px 20px 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 0px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="class" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">interface</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">UserRepository</span> <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">extends</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">JpaRepository</span>&lt;<span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">User</span>, <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">Long</span>&gt; </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">}</div></pre></td></tr></tbody></table></figure><ul style="margin: 1.6em 20px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;"><li style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">从数据源下，创建Message实体和对应的Repository接口</li></ul><figure class="highlight java" style="margin: 1.6em 0px; overflow-x: auto; padding: 15px 20px; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; line-height: 25.6px; color: rgb(221, 221, 221); background: rgb(39, 40, 34);"><table style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: middle; border-collapse: collapse; border-spacing: 0px; line-height: 1.6em; width: auto;" class=" xhe-border"><tbody style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><td class="gutter" style="margin: 0px; padding: 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><br></td><td class="code" style="margin: 0px; padding: 10px 20px 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 0px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Entity</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="class" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">class</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">Message</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Id</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@GeneratedValue</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> Long id;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Column</span>(nullable = <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">false</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> String name;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Column</span>(nullable = <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">false</span>)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> String content;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">Message</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">()</span></span>{}</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">Message</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">(String name, String content)</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">this</span>.name = name;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">        <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">this</span>.content = content;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    }</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">    <span class="comment" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">// 省略getter、setter</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">}</div></pre></td></tr></tbody></table></figure><figure class="highlight java" style="margin: 1.6em 0px; overflow-x: auto; padding: 15px 20px; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; line-height: 25.6px; color: rgb(221, 221, 221); background: rgb(39, 40, 34);"><table style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: middle; border-collapse: collapse; border-spacing: 0px; line-height: 1.6em; width: auto;" class=" xhe-border"><tbody style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><td class="gutter" style="margin: 0px; padding: 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><br></td><td class="code" style="margin: 0px; padding: 10px 20px 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 0px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="class" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">interface</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">MessageRepository</span> <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">extends</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">JpaRepository</span>&lt;<span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">Message</span>, <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">Long</span>&gt; </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">}</div></pre></td></tr></tbody></table></figure><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;">接下来通过测试用例来验证使用这两个针对不同数据源的配置进行数据操作。</p><figure class="highlight java" style="margin: 1.6em 0px; overflow-x: auto; padding: 15px 20px; font-family: 'Source Code Pro', Consolas, Monaco, Menlo, Consolas, monospace; line-height: 25.6px; color: rgb(221, 221, 221); background: rgb(39, 40, 34);"><table style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: middle; border-collapse: collapse; border-spacing: 0px; line-height: 1.6em; width: auto;" class=" xhe-border"><tbody style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><tr style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><td class="gutter" style="margin: 0px; padding: 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><br></td><td class="code" style="margin: 0px; padding: 10px 20px 10px 0px; border: none; outline: 0px; font-style: inherit; font-family: inherit; font-size: 16px; vertical-align: middle;"><pre style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; padding-right: 0px; padding-left: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@RunWith</span>(SpringJUnit4ClassRunner.class)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@SpringApplicationConfiguration</span>(Application.class)</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="class" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">class</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(255, 255, 255);">ApplicationTests</span> </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Autowired</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> UserRepository userRepository;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Autowired</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">private</span> MessageRepository messageRepository;</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="meta" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(117, 113, 94);">@Test</span></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	<span class="function" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;"><span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">public</span> <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">void</span> <span class="title" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">test</span><span class="params" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">()</span> <span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">throws</span> Exception </span>{</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		userRepository.save(<span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">new</span> User(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"aaa"</span>, <span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">10</span>));</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		userRepository.save(<span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">new</span> User(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"bbb"</span>, <span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">20</span>));</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		userRepository.save(<span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">new</span> User(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"ccc"</span>, <span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">30</span>));</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		userRepository.save(<span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">new</span> User(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"ddd"</span>, <span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">40</span>));</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		userRepository.save(<span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">new</span> User(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"eee"</span>, <span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">50</span>));</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		Assert.assertEquals(<span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">5</span>, userRepository.findAll().size());</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		messageRepository.save(<span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">new</span> Message(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"o1"</span>, <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"aaaaaaaaaa"</span>));</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		messageRepository.save(<span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">new</span> Message(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"o2"</span>, <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"bbbbbbbbbb"</span>));</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		messageRepository.save(<span class="keyword" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: bold; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(249, 38, 114);">new</span> Message(<span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"o3"</span>, <span class="string" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(166, 226, 46);">"cccccccccc"</span>));</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">		Assert.assertEquals(<span class="number" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline;">3</span>, messageRepository.findAll().size());</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">	}</div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;"></div><div class="line" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; height: 1.6em;">}</div></pre></td></tr></tbody></table></figure><p style="margin: 1.6em 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; line-height: 1.6em;"><a href="http://git.oschina.net/didispace/SpringBoot-Learning" target="_blank" rel="external" style="margin: 0px; padding: 0px; border: 0px; outline: 0px; font-weight: inherit; font-style: inherit; font-family: inherit; vertical-align: baseline; color: rgb(56, 183, 234); text-decoration: none;" _xhe_href="http://git.oschina.net/didispace/SpringBoot-Learning">完整示例:Chapter3-2-4</a></p></div></body></html>